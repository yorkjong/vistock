

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>vistock package &mdash; vistock 0.8.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=486e5634"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="vistock.mpl package" href="vistock.mpl.html" />
    <link rel="prev" title="Source" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            vistock
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Read Me</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Source</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">vistock package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.mpl.html">vistock.mpl package</a></li>
<li class="toctree-l4"><a class="reference internal" href="vistock.plotly.html">vistock.plotly package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock.bull_draw_utils">vistock.bull_draw_utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vistock.bull_draw_utils.calculate_bull_run"><code class="docutils literal notranslate"><span class="pre">calculate_bull_run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.bull_draw_utils.calculate_drawdown"><code class="docutils literal notranslate"><span class="pre">calculate_drawdown()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.bull_draw_utils.calculate_drawdown_v2"><code class="docutils literal notranslate"><span class="pre">calculate_drawdown_v2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.bull_draw_utils.calculate_rolling_drawdown"><code class="docutils literal notranslate"><span class="pre">calculate_rolling_drawdown()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock.file_utils">vistock.file_utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vistock.file_utils.gen_fn_info"><code class="docutils literal notranslate"><span class="pre">gen_fn_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.file_utils.make_dir"><code class="docutils literal notranslate"><span class="pre">make_dir()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock.ibd">vistock.ibd module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ibd-rs-relative-strength-rating-module">IBD RS (Relative Strength) Rating Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.ibd.rankings"><code class="docutils literal notranslate"><span class="pre">rankings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.ibd.relative_strength"><code class="docutils literal notranslate"><span class="pre">relative_strength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.ibd.relative_strength_3m"><code class="docutils literal notranslate"><span class="pre">relative_strength_3m()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock.rsm">vistock.rsm module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mansfield-relative-strength-rsm-module">Mansfield Relative Strength (RSM) Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.rsm.dorsey_relative_strength"><code class="docutils literal notranslate"><span class="pre">dorsey_relative_strength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.rsm.mansfield_relative_strength"><code class="docutils literal notranslate"><span class="pre">mansfield_relative_strength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.rsm.rankings"><code class="docutils literal notranslate"><span class="pre">rankings()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock.stock_indices">vistock.stock_indices module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#main-functions">Main Functions:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage-examples">Usage Examples:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.stock_indices.get_name"><code class="docutils literal notranslate"><span class="pre">get_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.stock_indices.get_tickers"><code class="docutils literal notranslate"><span class="pre">get_tickers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.stock_indices.ticker_from_name"><code class="docutils literal notranslate"><span class="pre">ticker_from_name()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock.ta">vistock.ta module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vistock.ta.exponential_moving_average"><code class="docutils literal notranslate"><span class="pre">exponential_moving_average()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.ta.rsi"><code class="docutils literal notranslate"><span class="pre">rsi()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.ta.simple_moving_average"><code class="docutils literal notranslate"><span class="pre">simple_moving_average()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock.tw">vistock.tw module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#main-features">Main Features:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Usage Examples:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.tw.as_yfinance"><code class="docutils literal notranslate"><span class="pre">as_yfinance()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.tw.get_esb_tickers"><code class="docutils literal notranslate"><span class="pre">get_esb_tickers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.tw.get_tickers"><code class="docutils literal notranslate"><span class="pre">get_tickers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.tw.get_tpex_tickers"><code class="docutils literal notranslate"><span class="pre">get_tpex_tickers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.tw.get_twse_tickers"><code class="docutils literal notranslate"><span class="pre">get_twse_tickers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.tw.is_taiwan_stock"><code class="docutils literal notranslate"><span class="pre">is_taiwan_stock()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.tw.similar_stocks"><code class="docutils literal notranslate"><span class="pre">similar_stocks()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.tw.stock_name"><code class="docutils literal notranslate"><span class="pre">stock_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.tw.stock_price"><code class="docutils literal notranslate"><span class="pre">stock_price()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock.utils">vistock.utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vistock.utils.MarketColorStyle"><code class="docutils literal notranslate"><span class="pre">MarketColorStyle</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.utils.decide_market_color_style"><code class="docutils literal notranslate"><span class="pre">decide_market_color_style()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock.yf_utils">vistock.yf_utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vistock.yf_utils.calc_weighted_metric"><code class="docutils literal notranslate"><span class="pre">calc_weighted_metric()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.yf_utils.download_financials"><code class="docutils literal notranslate"><span class="pre">download_financials()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.yf_utils.download_tickers_info"><code class="docutils literal notranslate"><span class="pre">download_tickers_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.yf_utils.fetch_financials"><code class="docutils literal notranslate"><span class="pre">fetch_financials()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vistock.yf_utils.setup_file_logging"><code class="docutils literal notranslate"><span class="pre">setup_file_logging()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-vistock">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">vistock</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Source</a></li>
      <li class="breadcrumb-item active">vistock package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/vistock.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="vistock-package">
<h1>vistock package<a class="headerlink" href="#vistock-package" title="Link to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="vistock.mpl.html">vistock.mpl package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#module-vistock.mpl.bull_draw">vistock.mpl.bull_draw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.bull_draw.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#module-vistock.mpl.financials">vistock.mpl.financials module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.financials.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#module-vistock.mpl.ibd_rs">vistock.mpl.ibd_rs module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.ibd_rs.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#module-vistock.mpl.ibd_rs_cmp">vistock.mpl.ibd_rs_cmp module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.ibd_rs_cmp.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#module-vistock.mpl.mansfield">vistock.mpl.mansfield module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#mansfield-stock-charts">Mansfield Stock Charts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.mpl.html#classes">Classes:</a></li>
<li class="toctree-l4"><a class="reference internal" href="vistock.mpl.html#usage">Usage:</a></li>
<li class="toctree-l4"><a class="reference internal" href="vistock.mpl.html#see-also">See Also:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.mansfield.RelativeStrengthLines"><code class="docutils literal notranslate"><span class="pre">RelativeStrengthLines</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.mansfield.RelativeStrengthLines.plot"><code class="docutils literal notranslate"><span class="pre">RelativeStrengthLines.plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.mansfield.StockChart"><code class="docutils literal notranslate"><span class="pre">StockChart</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.mansfield.StockChart.plot"><code class="docutils literal notranslate"><span class="pre">StockChart.plot()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#module-vistock.mpl.mpf_utils">vistock.mpl.mpf_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.mpf_utils.decide_mpf_style"><code class="docutils literal notranslate"><span class="pre">decide_mpf_style()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.mpf_utils.use_mac_chinese_font"><code class="docutils literal notranslate"><span class="pre">use_mac_chinese_font()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#module-vistock.mpl.profile">vistock.mpl.profile module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.profile.Turnover"><code class="docutils literal notranslate"><span class="pre">Turnover</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.profile.Turnover.plot"><code class="docutils literal notranslate"><span class="pre">Turnover.plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.profile.Volume"><code class="docutils literal notranslate"><span class="pre">Volume</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.profile.Volume.plot"><code class="docutils literal notranslate"><span class="pre">Volume.plot()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#module-vistock.mpl.rsi">vistock.mpl.rsi module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.mpl.html#vistock.mpl.rsi.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.mpl.html#module-vistock.mpl">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vistock.plotly.html">vistock.plotly package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.bull_draw">vistock.plotly.bull_draw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.bull_draw.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.fig_utils">vistock.plotly.fig_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.fig_utils.add_crosshair_cursor"><code class="docutils literal notranslate"><span class="pre">add_crosshair_cursor()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.fig_utils.add_hovermode_menu"><code class="docutils literal notranslate"><span class="pre">add_hovermode_menu()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.fig_utils.get_candlestick_colors"><code class="docutils literal notranslate"><span class="pre">get_candlestick_colors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.fig_utils.get_volume_colors"><code class="docutils literal notranslate"><span class="pre">get_volume_colors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.fig_utils.hide_nontrading_periods"><code class="docutils literal notranslate"><span class="pre">hide_nontrading_periods()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.financials">vistock.plotly.financials module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.financials.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.ibd_rs">vistock.plotly.ibd_rs module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.ibd_rs.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.ibd_rs_cmp">vistock.plotly.ibd_rs_cmp module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.ibd_rs_cmp.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.mansfield">vistock.plotly.mansfield module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#mansfield-stock-charts">Mansfield Stock Charts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.plotly.html#usage">Usage:</a></li>
<li class="toctree-l4"><a class="reference internal" href="vistock.plotly.html#see-also">See Also:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.mansfield.RelativeStrengthLines"><code class="docutils literal notranslate"><span class="pre">RelativeStrengthLines</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.mansfield.RelativeStrengthLines.plot"><code class="docutils literal notranslate"><span class="pre">RelativeStrengthLines.plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.mansfield.StockChart"><code class="docutils literal notranslate"><span class="pre">StockChart</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.mansfield.StockChart.plot"><code class="docutils literal notranslate"><span class="pre">StockChart.plot()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.prf2s">vistock.plotly.prf2s module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.prf2s.Turnover"><code class="docutils literal notranslate"><span class="pre">Turnover</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.prf2s.Turnover.plot"><code class="docutils literal notranslate"><span class="pre">Turnover.plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.prf2s.Volume"><code class="docutils literal notranslate"><span class="pre">Volume</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.prf2s.Volume.plot"><code class="docutils literal notranslate"><span class="pre">Volume.plot()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.prf4s">vistock.plotly.prf4s module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.prf4s.Turnover"><code class="docutils literal notranslate"><span class="pre">Turnover</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.prf4s.Turnover.plot"><code class="docutils literal notranslate"><span class="pre">Turnover.plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.prf4s.Volume"><code class="docutils literal notranslate"><span class="pre">Volume</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.prf4s.Volume.plot"><code class="docutils literal notranslate"><span class="pre">Volume.plot()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.pv1s">vistock.plotly.pv1s module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.pv1s.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly.pv2s">vistock.plotly.pv2s module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vistock.plotly.html#vistock.plotly.pv2s.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vistock.plotly.html#module-vistock.plotly">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-vistock.bull_draw_utils">
<span id="vistock-bull-draw-utils-module"></span><h2>vistock.bull_draw_utils module<a class="headerlink" href="#module-vistock.bull_draw_utils" title="Link to this heading"></a></h2>
<p>Utility Functons to calculate bull-run and drawdown.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vistock.bull_draw_utils.calculate_bull_run">
<span class="sig-prename descclassname"><span class="pre">vistock.bull_draw_utils.</span></span><span class="sig-name descname"><span class="pre">calculate_bull_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/bull_draw_utils.html#calculate_bull_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.bull_draw_utils.calculate_bull_run" title="Link to this definition"></a></dt>
<dd><p>Calculate the bull-run for each ‘Close’ price in the dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.DataFrame</em>) – DataFrame containing stock data with a ‘Close’ column.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series representing the bull-run values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.bull_draw_utils.calculate_drawdown">
<span class="sig-prename descclassname"><span class="pre">vistock.bull_draw_utils.</span></span><span class="sig-name descname"><span class="pre">calculate_drawdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/bull_draw_utils.html#calculate_drawdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.bull_draw_utils.calculate_drawdown" title="Link to this definition"></a></dt>
<dd><p>Calculate the drawdown for each price in the dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.DataFrame</em>) – DataFrame containing stock data with a ‘High’, ‘Close’ columns.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series representing the drawdown values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.bull_draw_utils.calculate_drawdown_v2">
<span class="sig-prename descclassname"><span class="pre">vistock.bull_draw_utils.</span></span><span class="sig-name descname"><span class="pre">calculate_drawdown_v2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/bull_draw_utils.html#calculate_drawdown_v2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.bull_draw_utils.calculate_drawdown_v2" title="Link to this definition"></a></dt>
<dd><p>Calculate the drawdown for each price in the dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.DataFrame</em>) – DataFrame containing stock data with a ‘Close’ column.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series representing the drawdown values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.bull_draw_utils.calculate_rolling_drawdown">
<span class="sig-prename descclassname"><span class="pre">vistock.bull_draw_utils.</span></span><span class="sig-name descname"><span class="pre">calculate_rolling_drawdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/bull_draw_utils.html#calculate_rolling_drawdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.bull_draw_utils.calculate_rolling_drawdown" title="Link to this definition"></a></dt>
<dd><p>Calculate the rolling drawdown for each price in the dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – DataFrame containing stock data with a ‘High’, ‘Close’ columns.</p></li>
<li><p><strong>window</strong> (<em>int</em>) – window size to rolling.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series representing the rolling drawdown values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-vistock.file_utils">
<span id="vistock-file-utils-module"></span><h2>vistock.file_utils module<a class="headerlink" href="#module-vistock.file_utils" title="Link to this heading"></a></h2>
<p>Common utility for file operations.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vistock.file_utils.gen_fn_info">
<span class="sig-prename descclassname"><span class="pre">vistock.file_utils.</span></span><span class="sig-name descname"><span class="pre">gen_fn_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/file_utils.html#gen_fn_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.file_utils.gen_fn_info" title="Link to this definition"></a></dt>
<dd><p>Generate the information string for the output filename of a stock.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – the stock symbol.</p></li>
<li><p><strong>interval</strong> (<em>str</em>) – the interval of an OHLC item.</p></li>
<li><p><strong>date</strong> (<em>str</em>) – last date of the stock data.</p></li>
<li><p><strong>module</strong> (<em>str</em>) – filename of the module.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a filename concatenated above information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gen_fn_info</span><span class="p">(</span><span class="s1">&#39;TSLA&#39;</span><span class="p">,</span> <span class="s1">&#39;1d&#39;</span><span class="p">,</span> <span class="s1">&#39;2023-02-17 00:00&#39;</span><span class="p">,</span> <span class="s1">&#39;plotly/pbv2s.py&#39;</span><span class="p">)</span>
<span class="go">&#39;TSLA_1d_20230217_0000_pbv2s&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.file_utils.make_dir">
<span class="sig-prename descclassname"><span class="pre">vistock.file_utils.</span></span><span class="sig-name descname"><span class="pre">make_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/file_utils.html#make_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.file_utils.make_dir" title="Link to this definition"></a></dt>
<dd><p>Creates a directory at the given path and returns the original path
string if it is valid. Returns an empty string if the path is invalid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>directory_path</strong> (<em>str</em>) – A string representing the directory path.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string representing the original directory path if it is valid,
otherwise an empty string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">make_dir</span><span class="p">(</span><span class="s2">&quot;./out/&quot;</span><span class="p">)</span>
<span class="go">&#39;out&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">make_dir</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>  <span class="c1"># &#39;:&#39; is not a valid character for directory names.</span>
<span class="go">&#39;&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-vistock.ibd">
<span id="vistock-ibd-module"></span><h2>vistock.ibd module<a class="headerlink" href="#module-vistock.ibd" title="Link to this heading"></a></h2>
<section id="ibd-rs-relative-strength-rating-module">
<h3>IBD RS (Relative Strength) Rating Module<a class="headerlink" href="#ibd-rs-relative-strength-rating-module" title="Link to this heading"></a></h3>
<p>This module provides tools for analyzing and ranking stocks based on their
relative strength compared to a benchmark index, inspired by the Investor’s
Business Daily (IBD) methodology.</p>
<section id="key-features">
<h4>Key Features:<a class="headerlink" href="#key-features" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Relative strength calculation</p></li>
<li><p>Stock and industry ranking generation</p></li>
<li><p>Rating-based filtering of rankings</p></li>
</ul>
</section>
<section id="usage">
<h4>Usage:<a class="headerlink" href="#usage" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">ibd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">vistock.stock_indices</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">si</span>

<span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;SOX&#39;</span>
<span class="n">tickers</span> <span class="o">=</span> <span class="n">si</span><span class="o">.</span><span class="n">get_tickers</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

<span class="n">stock_df</span> <span class="o">=</span> <span class="n">rankings</span><span class="p">(</span><span class="n">tickers</span><span class="p">,</span>
                    <span class="n">rs_window</span><span class="o">=</span><span class="n">rs_window</span><span class="p">,</span> <span class="n">rating_method</span><span class="o">=</span><span class="n">rating_method</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="see-also">
<h4>See Also:<a class="headerlink" href="#see-also" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://www.tradingview.com/script/pziQwiT2/">RS Rating — Indicator by Fred6724 — tradingview</a></p></li>
<li><p><a class="reference external" href="https://www.tradingview.com/script/SHE1xOMC-Relative-Strength-IBD-Style/">Relative Strength (IBD Style) — Indicator by Skyte — TradingView</a></p>
<ul>
<li><p><a class="reference external" href="https://github.com/skyte/relative-strength/blob/main/rs_ranking.py">relative-strength/rs_ranking.py at main · skyte/relative-strength</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://www.investors.com/ibd-university/find-evaluate-stocks/exclusive-ratings/">Exclusive IBD Ratings | Stock News &amp; Stock Market Analysis - IBD</a></p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="vistock.ibd.rankings">
<span class="sig-prename descclassname"><span class="pre">vistock.ibd.</span></span><span class="sig-name descname"><span class="pre">rankings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tickers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ticker_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'^GSPC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rs_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'12mo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rating_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rank'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/ibd.html#rankings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.ibd.rankings" title="Link to this definition"></a></dt>
<dd><p>Analyze stocks and generate a ranking table for individual stocks and
industries based on Relative Strength (RS).</p>
<p>This function calculates Relative Strength (RS) for the given stocks
compared to a reference index, then ranks both individual stocks and
industries according to their RS values. It provides historical RS data and
rating rankings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tickers</strong> (<em>list</em><em> of </em><em>str</em>) – A list of stock tickers to analyze.</p></li>
<li><p><strong>ticker_ref</strong> (<em>str</em><em>, </em><em>optional</em>) – The ticker symbol for the reference index. Defaults to ‘^GSPC’ (S&amp;P
500).</p></li>
<li><p><strong>period</strong> (<em>str</em><em>, </em><em>optional</em>) – The period for which to fetch historical data. Defaults to ‘2y’ (two
years).</p></li>
<li><p><strong>interval</strong> (<em>str</em><em>, </em><em>optional</em>) – The frequency of the data points. Must be one of ‘1d’ for daily data,
‘1wk’ for weekly data, or ‘1mo’ for monthly data. Defaults to ‘1d’.</p></li>
<li><p><strong>rs_window</strong> (<em>str</em><em>, </em><em>optional</em>) – The time window (‘3mo’ or ‘12mo’) for calculating Relative Strength
(RS). Defaults to ‘12mo’.</p></li>
<li><p><strong>rating_method</strong> (<em>str</em><em>, </em><em>optional</em>) – The method to calculate ratings. Either ‘rank’ (based on relative
ranking) or ‘qcut’ (based on quantiles). Defaults to ‘rank’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame containing stock rankings and RS ratings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.ibd.relative_strength">
<span class="sig-prename descclassname"><span class="pre">vistock.ibd.</span></span><span class="sig-name descname"><span class="pre">relative_strength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">closes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closes_ref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1d'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/ibd.html#relative_strength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.ibd.relative_strength" title="Link to this definition"></a></dt>
<dd><p>Calculate the relative strength of a stock compared to a reference index.</p>
<p>Relative Strength (RS) is a metric used to evaluate the performance of a
stock relative to a benchmark index. A higher RS rating indicates that the
stock has outperformed the index, while a lower RS rating suggests
underperformance.</p>
<p>This function calculates the RS rating by comparing the quarter-weighted
growth of the stock’s closing prices to the quarter-weighted growth of
the reference index’s closing prices over the past year. The formula is as
follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">growth</span> <span class="o">=</span> <span class="p">(</span><span class="n">current</span> <span class="o">-</span> <span class="n">previous</span><span class="p">)</span> <span class="o">/</span> <span class="n">previous</span>
<span class="n">gf</span> <span class="o">=</span> <span class="n">current</span><span class="o">/</span><span class="n">previous</span> <span class="o">=</span> <span class="n">growth</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">relative_rate</span> <span class="o">=</span> <span class="n">gf_stock</span> <span class="o">/</span> <span class="n">gf_index</span>
<span class="n">relative_strength</span> <span class="o">=</span> <span class="n">relative_rate</span> <span class="o">*</span> <span class="mi">100</span>
</pre></div>
</div>
<p>Here gf means “growth factor”, i.e., “price ratio”</p>
<p>The quarter-weighted growth is calculated using the <cite>weighted_growth</cite>
function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>closes</strong> (<em>pd.Series</em>) – Closing prices of the stock.</p></li>
<li><p><strong>closes_ref</strong> (<em>pd.Series</em>) – Closing prices of the reference index.</p></li>
<li><p><strong>interval</strong> (<em>str</em><em>, </em><em>optional</em>) – The frequency of the data points. Must be one of ‘1d’ for daily data,
‘1wk’ for weekly data, or ‘1mo’ for monthly data. Defaults to ‘1d’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Relative strength values for the stock.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stock_closes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">107</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_closes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1010</span><span class="p">,</span> <span class="mi">1015</span><span class="p">,</span> <span class="mi">1005</span><span class="p">,</span> <span class="mi">1020</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rs</span> <span class="o">=</span> <span class="n">relative_strength</span><span class="p">(</span><span class="n">stock_closes</span><span class="p">,</span> <span class="n">index_closes</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.ibd.relative_strength_3m">
<span class="sig-prename descclassname"><span class="pre">vistock.ibd.</span></span><span class="sig-name descname"><span class="pre">relative_strength_3m</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">closes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closes_ref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1d'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/ibd.html#relative_strength_3m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.ibd.relative_strength_3m" title="Link to this definition"></a></dt>
<dd><p>Calculate the 3-Month Relative Strength of a stock compared to a reference
index, based on price performance (growths).</p>
<p>The 3-Month Relative Strength Rating (RS Rating) measures the stock’s
price performance against a benchmark index over a recent three-month
period. This rating is designed to help investors quickly gauge the
strength of a stock’s performance relative to the market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>closes</strong> (<em>pd.Series</em>) – Closing prices of the stock.</p></li>
<li><p><strong>closes_ref</strong> (<em>pd.Series</em>) – Closing prices of the reference index.</p></li>
<li><p><strong>interval</strong> (<em>str</em><em>, </em><em>optional</em>) – The frequency of the data points. Must be one of ‘1d’ for daily data,
‘1wk’ for weekly data, or ‘1mo’ for monthly data. Defaults to ‘1d’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>3-Month relative strength values for the stock, rounded to two decimal
places. The values represent the stock’s performance relative to the
benchmark index, with 100 indicating parity.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-vistock.rsm">
<span id="vistock-rsm-module"></span><h2>vistock.rsm module<a class="headerlink" href="#module-vistock.rsm" title="Link to this heading"></a></h2>
<section id="mansfield-relative-strength-rsm-module">
<h3>Mansfield Relative Strength (RSM) Module<a class="headerlink" href="#mansfield-relative-strength-rsm-module" title="Link to this heading"></a></h3>
<p>This module provides functions for calculating and ranking stocks based on
Mansfield Relative Strength (RSM) and related metrics. It includes methods
to compute Dorsey Relative Strength (RSD), Mansfield Relative Strength (RSM)
using both Simple Moving Average (SMA) and Exponential Moving Average (EMA),
as well as functionality to rank stocks against a benchmark index.</p>
<section id="examples">
<h4>Examples:<a class="headerlink" href="#examples" title="Link to this heading"></a></h4>
<p>To calculate RSM for a list of stock tickers and rank them:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tickers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;GOOGL&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rank</span> <span class="o">=</span> <span class="n">ranking</span><span class="p">(</span><span class="n">tickers</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="s1">&#39;2y&#39;</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s1">&#39;1wk&#39;</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">52</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">rank</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p>To compute Mansfield Relative Strength using SMA for specific close prices:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">closes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="o">...</span><span class="p">])</span>  <span class="c1"># Example closing prices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">closes_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="o">...</span><span class="p">])</span>  <span class="c1"># Example index closing prices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rsm</span> <span class="o">=</span> <span class="n">mansfield_relative_strength</span><span class="p">(</span><span class="n">closes</span><span class="p">,</span> <span class="n">closes_index</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">52</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">rsm</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1">
<h4>See Also:<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://www.chartmill.com/documentation/technical-analysis/indicators/35-Mansfield-Relative-Strength">Mansfield Relative Strength | ChartMill.com</a></p></li>
<li><p><a class="reference external" href="https://www.stageanalysis.net/blog/4266/how-to-create-the-mansfield-relative-performance-indicator">How to create the Mansfield Relative Performance Indicator - Stage Analysis</a></p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="vistock.rsm.dorsey_relative_strength">
<span class="sig-prename descclassname"><span class="pre">vistock.rsm.</span></span><span class="sig-name descname"><span class="pre">dorsey_relative_strength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">closes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closes_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/rsm.html#dorsey_relative_strength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.rsm.dorsey_relative_strength" title="Link to this definition"></a></dt>
<dd><p>Calculate Dorsey Relative Strength (RSD) for given close prices and index
close prices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>closes</strong> (<em>pandas.Series</em>) – Series of closing prices for the stock.</p></li>
<li><p><strong>closes_index</strong> (<em>pandas.Series</em>) – Series of closing prices for the benchmark index.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series containing the calculated Dorsey Relative Strength (RSD) values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.rsm.mansfield_relative_strength">
<span class="sig-prename descclassname"><span class="pre">vistock.rsm.</span></span><span class="sig-name descname"><span class="pre">mansfield_relative_strength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">closes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closes_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SMA'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/rsm.html#mansfield_relative_strength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.rsm.mansfield_relative_strength" title="Link to this definition"></a></dt>
<dd><p>Calculate Mansfield Relative Strength (RSM) for given close prices, index
close prices, and window size using a given moving average method (‘SMA’
or ‘EMA’).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>closes</strong> (<em>pandas.Series</em>) – Series of closing prices for the stock.</p></li>
<li><p><strong>closes_index</strong> (<em>pandas.Series</em>) – Series of closing prices for the benchmark index.</p></li>
<li><p><strong>window</strong> (<em>int</em>) – Window size for calculating the Simple Moving Average of the Dorsey
Relative Strength.</p></li>
<li><p><strong>ma</strong> (<em>str</em><em>, </em><em>optional</em>) – Moving average type (‘SMA’, ‘EMA’). Default to ‘SMA’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series containing the calculated Mansfield Relative Strength (RSM)
values with given moving average method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stock_closes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">110</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_closes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2050</span><span class="p">,</span> <span class="mi">2100</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mansfield_relative_strength</span><span class="p">(</span><span class="n">stock_closes</span><span class="p">,</span> <span class="n">index_closes</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2024-01-01    5.000000</span>
<span class="go">2024-01-02    5.097847</span>
<span class="go">2024-01-03    5.238095</span>
<span class="go">dtype: float64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mansfield_relative_strength_with_ema</span><span class="p">(</span><span class="n">stock_closes</span><span class="p">,</span> <span class="n">index_closes</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">window</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ma</span><span class="o">=</span><span class="s1">&#39;EMA&#39;</span><span class="p">)</span>
<span class="go">2024-01-01    5.000000</span>
<span class="go">2024-01-02    5.097847</span>
<span class="go">2024-01-03    5.238095</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.rsm.rankings">
<span class="sig-prename descclassname"><span class="pre">vistock.rsm.</span></span><span class="sig-name descname"><span class="pre">rankings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tickers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ticker_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'^GSPC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1wk'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SMA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rating_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rank'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/rsm.html#rankings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.rsm.rankings" title="Link to this definition"></a></dt>
<dd><p>Rank stocks based on their Mansfield Relative Strength (RSM) against an
index benchmark.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tickers</strong> (<em>list</em><em> of </em><em>str</em>) – List of stock tickers to rank.</p></li>
<li><p><strong>ticker_ref</strong> (<em>str</em><em>, </em><em>optional</em>) – Ticker symbol of the benchmark index. Defaults to ‘^GSPC’ (S&amp;P 500).</p></li>
<li><p><strong>period</strong> (<em>str</em><em>, </em><em>optional</em>) – Period for retrieving historical data (‘6mo’, ‘1y’, ‘2y’, ‘5y’, ‘ytd’,
‘max’). Defaults to ‘2y’ (two years).</p></li>
<li><p><strong>interval</strong> (<em>str</em><em>, </em><em>optional</em>) – Interval for historical data (‘1d’, ‘1wk’). Defaults to ‘1wk’ (one
week).</p></li>
<li><p><strong>ma</strong> (<em>str</em><em>, </em><em>optional</em>) – Moving average type (‘SMA’ for Simple Moving Average or ‘EMA’ for
Exponential Moving Average). Defaults to ‘SMA’.</p></li>
<li><p><strong>rating_method</strong> (<em>str</em><em>, </em><em>optional</em>) – Method for calculating stock ratings. Either ‘rank’ (based on relative
ranking) or ‘qcut’ (based on quantiles). Defaults to ‘rank’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame containing ranked stock data with relative strength and
other metrics.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-vistock.stock_indices">
<span id="vistock-stock-indices-module"></span><h2>vistock.stock_indices module<a class="headerlink" href="#module-vistock.stock_indices" title="Link to this heading"></a></h2>
<p>Functions for retrieving and managing stock market indices data.</p>
<p>This module provides functions for retrieving ticker symbols for various stock
market indices and identifying index names from their ticker symbols. It
supports querying index tickers from specified sources and obtaining the name
of an index based on its symbol.</p>
<section id="main-functions">
<h3>Main Functions:<a class="headerlink" href="#main-functions" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>get_tickers(source): Retrieve ticker symbols for a specified stock market
index source.</p></li>
<li><p>get_name(index_symbol): Retrieve the name of an index from its ticker symbol.</p></li>
<li><p>ticker_from_name(name): Get the ticker symbol of an index from its long name.</p></li>
</ul>
</section>
<section id="usage-examples">
<h3>Usage Examples:<a class="headerlink" href="#usage-examples" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">stock_indices</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_tickers</span><span class="p">,</span> <span class="n">get_name</span>

<span class="c1"># Get tickers for the S&amp;P 500 index</span>
<span class="n">spx_tickers</span> <span class="o">=</span> <span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;SPX&#39;</span><span class="p">)</span>

<span class="c1"># Get tickers for the Philadelphia Semiconductor</span>
<span class="n">sox_tickers</span> <span class="o">=</span> <span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;SOX&#39;</span><span class="p">)</span>

<span class="c1"># Get tickers for the SPX and the SOX</span>
<span class="n">tickers</span> <span class="o">=</span> <span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;SPX+SOX&#39;</span><span class="p">)</span>

<span class="c1"># Get the name of an index from its symbol</span>
<span class="n">index_name</span> <span class="o">=</span> <span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^NDX&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="vistock.stock_indices.get_name">
<span class="sig-prename descclassname"><span class="pre">vistock.stock_indices.</span></span><span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_symbol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/stock_indices.html#get_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.stock_indices.get_name" title="Link to this definition"></a></dt>
<dd><p>Return the name of the index based on the provided symbol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index_symbol</strong> (<em>str</em>) – <p>The ticker symbol or common abbreviation for the index.</p>
<ul class="simple">
<li><p>Yahoo Finance ticker symbols (e.g., ‘^GSPC’ for S&amp;P 500, ‘^NDX’ for
NASDAQ-100).</p></li>
<li><p>Common abbreviations (e.g., ‘SPX’ for S&amp;P 500, ‘NDX’ for
NASDAQ-100).</p></li>
</ul>
<p>Possible values include:</p>
<ul class="simple">
<li><p>’^GSPC’, ‘SPX’: S&amp;P 500</p></li>
<li><p>’^DJI’, ‘DJIA’: Dow Jones Industrial Average</p></li>
<li><p>’^NDX’, ‘NDX’: NASDAQ 100</p></li>
<li><p>’^IXIC’, ‘COMP’: NASDAQ Composite</p></li>
<li><p>’^RUI’, ‘RUI’, ‘R1000’: Russell 1000</p></li>
<li><p>’^RUT’, ‘RUT’, ‘R2000’: Russell 2000</p></li>
<li><p>’^SOX’, ‘SOX’: PHLX Semiconductor</p></li>
<li><p>’^NYA’, ‘NYA’: NYSE Composite</p></li>
<li><p>’^MID’, ‘MID’: S&amp;P MidCap 400</p></li>
<li><p>’^TWII’, ‘TWII’: Taiwan Weighted Index</p></li>
<li><p>’^W5000’, ‘W5000’: Wilshire 5000 Total Market Index</p></li>
<li><p>’USLS’: U.S. Listed Stocks</p></li>
<li><p>’^STOXX50E’: Euro Stoxx 50</p></li>
<li><p>’^FTSE’: FTSE 100</p></li>
<li><p>’^GDAXI’: DAX</p></li>
<li><p>’^FCHI’: CAC 40</p></li>
<li><p>’^GSPTSE’: S&amp;P/TSX Composite</p></li>
<li><p>’^N225’: Nikkei 225</p></li>
<li><p>’^HSI’: Hang Seng Index</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name of the index if found. If not found, returns the original index_symbol.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;SPX&#39;</span><span class="p">)</span>
<span class="go">&#39;S&amp;P 500&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^GSPC&#39;</span><span class="p">)</span>
<span class="go">&#39;S&amp;P 500&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^DJI&#39;</span><span class="p">)</span>
<span class="go">&#39;Dow Jones Industrial Average&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^IXIC&#39;</span><span class="p">)</span>
<span class="go">&#39;NASDAQ Composite&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^NDX&#39;</span><span class="p">)</span>
<span class="go">&#39;NASDAQ 100&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^RUI&#39;</span><span class="p">)</span>
<span class="go">&#39;Russell 1000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^RUT&#39;</span><span class="p">)</span>
<span class="go">&#39;Russell 2000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^SOX&#39;</span><span class="p">)</span>
<span class="go">&#39;PHLX Semiconductor&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^W5000&#39;</span><span class="p">)</span>
<span class="go">&#39;Wilshire 5000 Total Market Index&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^TWII&#39;</span><span class="p">)</span>
<span class="go">&#39;Taiwan Weighted Index&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;^HSI&#39;</span><span class="p">)</span>
<span class="go">&#39;Hang Seng Index&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;SOXX&#39;</span><span class="p">)</span>
<span class="go">&#39;iShares Semiconductor ETF&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;AAPL&#39;</span><span class="p">)</span>
<span class="go">&#39;AAPL&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.stock_indices.get_tickers">
<span class="sig-prename descclassname"><span class="pre">vistock.stock_indices.</span></span><span class="sig-name descname"><span class="pre">get_tickers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/stock_indices.html#get_tickers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.stock_indices.get_tickers" title="Link to this definition"></a></dt>
<dd><p>Retrieve a list of tickers for the specified index or combined indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<em>str</em>) – <p>The ticker symbol or common abbreviation for the index or indices.</p>
<ul class="simple">
<li><p>Yahoo Finance ticker symbols (e.g., ‘^GSPC’ for S&amp;P 500, ‘^NDX’
for NASDAQ-100).</p></li>
<li><p>Common abbreviations (e.g., ‘SPX’ for S&amp;P 500, ‘NDX’ for
NASDAQ-100).</p></li>
<li><p>Multiple indices can be combined using ‘+’ (e.g., ‘^GSPC+^NDX’).</p></li>
</ul>
<p>Possible values include:</p>
<ul class="simple">
<li><p>’^GSPC’, ‘SPX’: S&amp;P 500</p></li>
<li><p>’^DJI’, ‘DJIA’: Dow Jones Industrial Average</p></li>
<li><p>’^NDX’, ‘NDX’: NASDAQ-100</p></li>
<li><p>’^RUI’, ‘RUI’: Russell 1000</p></li>
<li><p>’^RUT’, ‘RUT’: Russell 2000</p></li>
<li><p>’^SOX’, ‘SOX’: PHLX Semiconductor</p></li>
<li><p>’^W5000’, ‘W5000’: Wilshire 5000 Total Market Index</p></li>
<li><p>’U.S. listed’: U.S. listed stocks</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tickers for the specified source.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If the provided source is not recognized or does not
    correspond to a known index.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;SPX&#39;</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="mi">500</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;^GSPC&#39;</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="mi">500</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;^NDX&#39;</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="mi">100</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;^RUI&#39;</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="mi">1000</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;^RUT&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1900</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;^W5000&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">5000</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;U.S.Listed&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">5000</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;USLS&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">5000</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">500</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;^GSPC+^NDX&#39;</span><span class="p">))</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">500</span><span class="o">+</span><span class="mi">100</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">500</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;SPX+SOX+NDX&#39;</span><span class="p">))</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">500</span><span class="o">+</span><span class="mi">30</span><span class="o">+</span><span class="mi">100</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;^UNKNOWN&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">KeyError</span>: <span class="n">&quot;Index symbol &#39;^UNKNOWN&#39; not found.&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.stock_indices.ticker_from_name">
<span class="sig-prename descclassname"><span class="pre">vistock.stock_indices.</span></span><span class="sig-name descname"><span class="pre">ticker_from_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/stock_indices.html#ticker_from_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.stock_indices.ticker_from_name" title="Link to this definition"></a></dt>
<dd><p>Get ticker symbol of an index from its long name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The long name of a ticker.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The ticker symbol.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ticker_from_name</span><span class="p">(</span><span class="s1">&#39;S&amp;P 500&#39;</span><span class="p">)</span>
<span class="go">&#39;^GSPC&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ticker_from_name</span><span class="p">(</span><span class="s1">&#39;Dow Jones Industrial Average&#39;</span><span class="p">)</span>
<span class="go">&#39;^DJI&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ticker_from_name</span><span class="p">(</span><span class="s1">&#39;NASDAQ 100&#39;</span><span class="p">)</span>
<span class="go">&#39;^NDX&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ticker_from_name</span><span class="p">(</span><span class="s1">&#39;Russell 1000&#39;</span><span class="p">)</span>
<span class="go">&#39;^RUI&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ticker_from_name</span><span class="p">(</span><span class="s1">&#39;Wilshire 5000 Total Market Index&#39;</span><span class="p">)</span>
<span class="go">&#39;^W5000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ticker_from_name</span><span class="p">(</span><span class="s1">&#39;Taiwan Weighted Index&#39;</span><span class="p">)</span>
<span class="go">&#39;^TWII&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-vistock.ta">
<span id="vistock-ta-module"></span><h2>vistock.ta module<a class="headerlink" href="#module-vistock.ta" title="Link to this heading"></a></h2>
<p>Technical Analysis</p>
<dl class="py function">
<dt class="sig sig-object py" id="vistock.ta.exponential_moving_average">
<span class="sig-prename descclassname"><span class="pre">vistock.ta.</span></span><span class="sig-name descname"><span class="pre">exponential_moving_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_periods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/ta.html#exponential_moving_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.ta.exponential_moving_average" title="Link to this definition"></a></dt>
<dd><p>Calculate Exponential Moving Average (EMA) for given values and window size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>pandas.Series</em>) – Series of values for which to calculate the EMA.</p></li>
<li><p><strong>window</strong> (<em>int</em>) – Number of periods over which to calculate the EMA.</p></li>
<li><p><strong>adjust</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to adjust the EMA calculation (default is False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series containing the calculated Exponential Moving Average (EMA)
values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">120</span><span class="p">],</span>
<span class="gp">... </span>        <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exponential_moving_average</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">2024-01-01    100.0000</span>
<span class="go">2024-01-02    102.5000</span>
<span class="go">2024-01-03    106.2500</span>
<span class="go">2024-01-04    110.6250</span>
<span class="go">2024-01-05    115.3125</span>
<span class="go">Freq: D, dtype: float64</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.ta.rsi">
<span class="sig-prename descclassname"><span class="pre">vistock.ta.</span></span><span class="sig-name descname"><span class="pre">rsi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/ta.html#rsi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.ta.rsi" title="Link to this definition"></a></dt>
<dd><p>Calculate the Relative Strength Index (RSI) for a given dataset.</p>
<p>RSI is a momentum oscillator that measures the speed and change of price
movements.  It oscillates between 0 and 100 and is typically used to
identify overbought or oversold conditions in a market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.Series</em>) – A pandas Series containing the price data (typically closing prices)
for which the RSI is to be calculated.</p></li>
<li><p><strong>periods</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default: 14</em>) – The number of periods to use for the RSI calculation. A typical value
is 14.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas Series containing the RSI values for the given data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">yfinance</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">yf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">yf</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RSI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rsi</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">],</span> <span class="n">periods</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RSI&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
<span class="go">Date</span>
<span class="go">2023-12-22    59.246142</span>
<span class="go">2023-12-26    49.031934</span>
<span class="go">2023-12-27    52.291513</span>
<span class="go">2023-12-28    47.920430</span>
<span class="go">2023-12-29    40.185177</span>
<span class="go">Name: RSI, dtype: float64</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.ta.simple_moving_average">
<span class="sig-prename descclassname"><span class="pre">vistock.ta.</span></span><span class="sig-name descname"><span class="pre">simple_moving_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_periods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/ta.html#simple_moving_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.ta.simple_moving_average" title="Link to this definition"></a></dt>
<dd><p>Calculate Simple Moving Average (SMA) for given values and window size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>pandas.Series</em>) – Series of values for which to calculate the SMA.</p></li>
<li><p><strong>window</strong> (<em>int</em>) – Number of periods over which to calculate the SMA.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series containing the calculated Simple Moving Average (SMA) values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">120</span><span class="p">],</span>
<span class="gp">... </span>        <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simple_moving_average</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">2024-01-01      NaN</span>
<span class="go">2024-01-02      NaN</span>
<span class="go">2024-01-03    105.0</span>
<span class="go">2024-01-04    110.0</span>
<span class="go">2024-01-05    115.0</span>
<span class="go">Freq: D, dtype: float64</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-vistock.tw">
<span id="vistock-tw-module"></span><h2>vistock.tw module<a class="headerlink" href="#module-vistock.tw" title="Link to this heading"></a></h2>
<p>tw.py - Module for handling Taiwan stock market data.</p>
<p>This module provides functionalities for interacting with various Taiwan Stock
markets,including the Taiwan Stock Exchange (TWSE), Taipei Exchange (TPEx), and
Emerging Stock Board (ESB). It supports converting stock symbols, fetching
stock data, and retrieving ticker lists from these markets.</p>
<section id="main-features">
<h3>Main Features:<a class="headerlink" href="#main-features" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Convert Taiwan stock symbols to yfinance-compatible format.</p></li>
<li><p>Fetch historical and real-time stock data from TWSE, TPEx, and ESB.</p></li>
<li><p>Retrieve lists of tickers for TWSE, TPEx, and ESB.</p></li>
<li><p>Find stocks similar to a given name or code.</p></li>
</ul>
</section>
<section id="id2">
<h3>Usage Examples:<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">tw</span>

<span class="c1"># Get the stock name from its code</span>
<span class="n">name</span> <span class="o">=</span> <span class="n">tw</span><span class="o">.</span><span class="n">stock_name</span><span class="p">(</span><span class="s1">&#39;2330.TW&#39;</span><span class="p">)</span>

<span class="c1"># Convert a stock symbol to yfinance format</span>
<span class="n">yf_symbol</span> <span class="o">=</span> <span class="n">tw</span><span class="o">.</span><span class="n">as_yfinance</span><span class="p">(</span><span class="s1">&#39;台積電&#39;</span><span class="p">)</span>

<span class="c1"># Find stocks similar to a given name or code</span>
<span class="n">similar</span> <span class="o">=</span> <span class="n">tw</span><span class="o">.</span><span class="n">similar_stocks</span><span class="p">(</span><span class="s1">&#39;印度&#39;</span><span class="p">)</span>

<span class="c1"># Get a list of tickers for the TWSE</span>
<span class="n">twse_tickers</span> <span class="o">=</span> <span class="n">tw</span><span class="o">.</span><span class="n">get_twse_tickers</span><span class="p">()</span>

<span class="c1"># Get a list of tickers for a specified market</span>
<span class="n">tickers</span> <span class="o">=</span> <span class="n">tw</span><span class="o">.</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;TWSE&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="vistock.tw.as_yfinance">
<span class="sig-prename descclassname"><span class="pre">vistock.tw.</span></span><span class="sig-name descname"><span class="pre">as_yfinance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/tw.html#as_yfinance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.tw.as_yfinance" title="Link to this definition"></a></dt>
<dd><p>Convert a given stock symbol into yfinance compatible stock symbol.</p>
<p>This function handles different types of input:</p>
<ul class="simple">
<li><p>If the input is already in yfinance format (ends with .TW or .TWO), it’s
returned as is.</p></li>
<li><p>If the input is in Chinese, it’s treated as a stock name and converted to
a code.</p></li>
<li><p>If the input starts with a digit, it’s treated as a Taiwan stock code and
the appropriate suffix (.TW or .TWO) is added.</p></li>
<li><p>For other inputs (e.g., non-Taiwan stocks), the symbol is returned
unchanged.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symbol</strong> (<em>str</em>) – the input symbol.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the yfinance compatible stock symbol.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">as_yfinance</span><span class="p">(</span><span class="s1">&#39;TSLA&#39;</span><span class="p">)</span>
<span class="go">&#39;TSLA&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">as_yfinance</span><span class="p">(</span><span class="s1">&#39;台積電&#39;</span><span class="p">)</span>
<span class="go">&#39;2330.TW&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">as_yfinance</span><span class="p">(</span><span class="s1">&#39;2330&#39;</span><span class="p">)</span>
<span class="go">&#39;2330.TW&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">as_yfinance</span><span class="p">(</span><span class="s1">&#39;元太&#39;</span><span class="p">)</span>
<span class="go">&#39;8069.TWO&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">as_yfinance</span><span class="p">(</span><span class="s1">&#39;星宇航空&#39;</span><span class="p">)</span>
<span class="go">&#39;2646.TWO&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.tw.get_esb_tickers">
<span class="sig-prename descclassname"><span class="pre">vistock.tw.</span></span><span class="sig-name descname"><span class="pre">get_esb_tickers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/tw.html#get_esb_tickers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.tw.get_esb_tickers" title="Link to this definition"></a></dt>
<dd><p>Fetch the list of tickers for companies listed on the Emerging Stock
Board (ESB) of the Taipei Exchange.</p>
<p>Retrieves ticker symbols from the TPEx Open API.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of ESB ticker symbols.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tickers</span> <span class="o">=</span> <span class="n">get_esb_tickers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;2646.TWO&#39;</span> <span class="ow">in</span> <span class="n">tickers</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;6987.TWO&#39;</span> <span class="ow">in</span> <span class="n">tickers</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.tw.get_tickers">
<span class="sig-prename descclassname"><span class="pre">vistock.tw.</span></span><span class="sig-name descname"><span class="pre">get_tickers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/tw.html#get_tickers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.tw.get_tickers" title="Link to this definition"></a></dt>
<dd><p>Retrieve a list of tickers for the specified exchange(s) in Taiwan,
removing duplicates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<em>str</em>) – <p>The common abbreviation(s) for the exchange or market
sector.</p>
<p>Possible values include:</p>
<ul class="simple">
<li><p>’TWSE’: Taiwan Stock Exchange</p></li>
<li><p>’TPEX’: Taipei Exchange</p></li>
<li><p>’ESB’: Emerging Stock Board</p></li>
</ul>
<p>Can also be combined with ‘+’ (e.g., ‘TWSE+TPEX’, ‘TWSE+TPEX+ESB’).</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A list of unique tickers for the given exchange(s) or market</dt><dd><p>sector(s).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If any of the provided exchange abbreviations are not
    recognized.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;TWSE+TPEX&#39;</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="mi">2000</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;ESB&#39;</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="mi">300</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;TWSE+TPEX+ESB&#39;</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">1200</span> <span class="o">+</span> <span class="mi">800</span> <span class="o">+</span> <span class="mi">300</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_tickers</span><span class="p">(</span><span class="s1">&#39;^UNKNOWN&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">KeyError</span>: <span class="n">&quot;Exchange abbreviation &#39;^UNKNOWN&#39; not found.&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.tw.get_tpex_tickers">
<span class="sig-prename descclassname"><span class="pre">vistock.tw.</span></span><span class="sig-name descname"><span class="pre">get_tpex_tickers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/tw.html#get_tpex_tickers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.tw.get_tpex_tickers" title="Link to this definition"></a></dt>
<dd><p>Fetch the list of tickers for companies listed on the Taipei Exchange
(TPEx).</p>
<p>Retrieves ticker symbols from the TPEx Open API.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of TPEx ticker symbols.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tickers</span> <span class="o">=</span> <span class="n">get_tpex_tickers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;8069.TWO&#39;</span> <span class="ow">in</span> <span class="n">tickers</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.tw.get_twse_tickers">
<span class="sig-prename descclassname"><span class="pre">vistock.tw.</span></span><span class="sig-name descname"><span class="pre">get_twse_tickers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/tw.html#get_twse_tickers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.tw.get_twse_tickers" title="Link to this definition"></a></dt>
<dd><p>Fetch the list of tickers for companies listed on the Taiwan Stock
Exchange (TWSE).</p>
<p>Retrieves ticker symbols from the TWSE Open API.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of TWSE ticker symbols.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tickers</span> <span class="o">=</span> <span class="n">get_twse_tickers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tickers</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
<span class="go">[&#39;0050.TW&#39;, &#39;0051.TW&#39;, &#39;0052.TW&#39;, &#39;0053.TW&#39;, &#39;0055.TW&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.tw.is_taiwan_stock">
<span class="sig-prename descclassname"><span class="pre">vistock.tw.</span></span><span class="sig-name descname"><span class="pre">is_taiwan_stock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ticker</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/tw.html#is_taiwan_stock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.tw.is_taiwan_stock" title="Link to this definition"></a></dt>
<dd><p>Check if the given ticker represents a Taiwan stock.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ticker</strong> (<em>str</em>) – Stock ticker symbol.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if it’s a Taiwan stock, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">is_taiwan_stock</span><span class="p">(</span><span class="s1">&#39;2330.TW&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_taiwan_stock</span><span class="p">(</span><span class="s1">&#39;NVDA&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.tw.similar_stocks">
<span class="sig-prename descclassname"><span class="pre">vistock.tw.</span></span><span class="sig-name descname"><span class="pre">similar_stocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/tw.html#similar_stocks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.tw.similar_stocks" title="Link to this definition"></a></dt>
<dd><p>Get similar stock of a given stock.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symbol</strong> (<em>str</em>) – a stock name or a stock code.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list of stock name-code pairs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[(str, str)]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">similar_stocks</span><span class="p">(</span><span class="s1">&#39;印度&#39;</span><span class="p">)</span>
<span class="go">[(&#39;富邦印度&#39;, &#39;00652&#39;), (&#39;富邦印度正2&#39;, &#39;00653L&#39;), (&#39;富邦印度反1&#39;, &#39;00654R&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">similar_stocks</span><span class="p">(</span><span class="s1">&#39;永豐美國&#39;</span><span class="p">)</span>
<span class="go">[(&#39;永豐美國500大&#39;, &#39;00858&#39;), (&#39;永豐美國科技&#39;, &#39;00886&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.tw.stock_name">
<span class="sig-prename descclassname"><span class="pre">vistock.tw.</span></span><span class="sig-name descname"><span class="pre">stock_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/tw.html#stock_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.tw.stock_name" title="Link to this definition"></a></dt>
<dd><p>Get stock name from its code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>code</strong> (<em>str</em>) – a Taiwan stock code.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the Taiwan stock name.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stock_name</span><span class="p">(</span><span class="s1">&#39;2330.TW&#39;</span><span class="p">)</span>
<span class="go">&#39;台積電&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stock_name</span><span class="p">(</span><span class="s1">&#39;8069.TWO&#39;</span><span class="p">)</span>
<span class="go">&#39;元太&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stock_name</span><span class="p">(</span><span class="s1">&#39;2646.TWO&#39;</span><span class="p">)</span>
<span class="go">&#39;星宇航空&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stock_name</span><span class="p">(</span><span class="s1">&#39;2330&#39;</span><span class="p">)</span>
<span class="go">&#39;台積電&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stock_name</span><span class="p">(</span><span class="s1">&#39;8069&#39;</span><span class="p">)</span>
<span class="go">&#39;元太&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stock_name</span><span class="p">(</span><span class="s1">&#39;2646&#39;</span><span class="p">)</span>
<span class="go">&#39;星宇航空&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.tw.stock_price">
<span class="sig-prename descclassname"><span class="pre">vistock.tw.</span></span><span class="sig-name descname"><span class="pre">stock_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/tw.html#stock_price"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.tw.stock_price" title="Link to this definition"></a></dt>
<dd><p>Get stock price from its code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>code</strong> (<em>str</em>) – a Taiwan stock code.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the price of given code.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stock_price</span><span class="p">(</span><span class="s2">&quot;2330&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">900</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-vistock.utils">
<span id="vistock-utils-module"></span><h2>vistock.utils module<a class="headerlink" href="#module-vistock.utils" title="Link to this heading"></a></h2>
<p>Utility Functions for vistock package.</p>
<dl class="py class">
<dt class="sig sig-object py" id="vistock.utils.MarketColorStyle">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vistock.utils.</span></span><span class="sig-name descname"><span class="pre">MarketColorStyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/utils.html#MarketColorStyle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.utils.MarketColorStyle" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="vistock.utils.MarketColorStyle.AUTO">
<span class="sig-name descname"><span class="pre">AUTO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'auto'</span></em><a class="headerlink" href="#vistock.utils.MarketColorStyle.AUTO" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vistock.utils.MarketColorStyle.EASTERN">
<span class="sig-name descname"><span class="pre">EASTERN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'eastern'</span></em><a class="headerlink" href="#vistock.utils.MarketColorStyle.EASTERN" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vistock.utils.MarketColorStyle.WESTERN">
<span class="sig-name descname"><span class="pre">WESTERN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'western'</span></em><a class="headerlink" href="#vistock.utils.MarketColorStyle.WESTERN" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.utils.decide_market_color_style">
<span class="sig-prename descclassname"><span class="pre">vistock.utils.</span></span><span class="sig-name descname"><span class="pre">decide_market_color_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ticker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'TSLA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">MarketColorStyle.AUTO</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/utils.html#decide_market_color_style"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.utils.decide_market_color_style" title="Link to this definition"></a></dt>
<dd><p>Determine the market color style based on the given ticker and specified
style.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ticker</strong> (<em>str</em>) – The stock ticker symbol. Default is ‘TSLA’.</p></li>
<li><p><strong>style</strong> (<a class="reference internal" href="#vistock.utils.MarketColorStyle" title="vistock.utils.MarketColorStyle"><em>MarketColorStyle</em></a>) – The desired market color style. Default is
MarketColorStyle.AUTO.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The determined market color style (EASTERN, WESTERN,
or based on the ticker if AUTO is chosen).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#vistock.utils.MarketColorStyle" title="vistock.utils.MarketColorStyle">MarketColorStyle</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">decide_market_color_style</span><span class="p">(</span><span class="s1">&#39;TSLA&#39;</span><span class="p">)</span>
<span class="go">&lt;MarketColorStyle.WESTERN: &#39;western&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decide_market_color_style</span><span class="p">(</span><span class="s1">&#39;2330.TW&#39;</span><span class="p">)</span>
<span class="go">&lt;MarketColorStyle.EASTERN: &#39;eastern&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decide_market_color_style</span><span class="p">(</span><span class="s1">&#39;8069.TWO&#39;</span><span class="p">)</span>
<span class="go">&lt;MarketColorStyle.EASTERN: &#39;eastern&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-vistock.yf_utils">
<span id="vistock-yf-utils-module"></span><h2>vistock.yf_utils module<a class="headerlink" href="#module-vistock.yf_utils" title="Link to this heading"></a></h2>
<p>Utility functions for working with Yahoo Finance data.</p>
<p>This module contains various utility functions for retrieving and processing
stock data using the Yahoo Finance API via the <cite>yfinance</cite> library.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vistock.yf_utils.calc_weighted_metric">
<span class="sig-prename descclassname"><span class="pre">vistock.yf_utils.</span></span><span class="sig-name descname"><span class="pre">calc_weighted_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">financials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tickers_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/yf_utils.html#calc_weighted_metric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.yf_utils.calc_weighted_metric" title="Link to this definition"></a></dt>
<dd><p>Calculate the weighted average of a specified financial metric for all stock
symbols in the provided dataset using NumPy. The weights can be based on any
specified field (e.g., market capitalization or shares outstanding).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>financials</strong> (<em>dict</em>) – A dictionary where each key is a stock ticker and the value is a
DataFrame of the ticker’s quarterly financials.</p></li>
<li><p><strong>tickers_info</strong> (<em>dict</em>) – A dictionary where each key is a stock ticker and the value is a
dictionary of the ticker’s info, including market cap, shares
outstanding, etc.</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – The name of the financial metric to calculate (e.g., ‘Basic EPS’,
‘Total Revenue’, ‘Operating Revenue’).</p></li>
<li><p><strong>weight_field</strong> (<em>str</em>) – The field name to use for weighting (e.g., ‘marketCap’,
‘sharesOutstanding’).</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>optional</em>) – The minimum percentage of the total possible weight required for a valid
weighted average (default is 0.7, meaning 70%).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The weighted average of the specified metric over the specified
number of quarters (or years).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tickers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;GOOG&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">financials</span> <span class="o">=</span> <span class="n">download_financials</span><span class="p">(</span><span class="n">tickers</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Basic EPS&#39;</span><span class="p">])</span>
<span class="gp">...</span>
<span class="go">[...**********************100%**********************]</span>
<span class="go">3 of 3 financials downloaded</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tickers_info</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;AAPL&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;marketCap&#39;</span><span class="p">:</span> <span class="mi">3357369434112</span><span class="p">,</span>
<span class="gp">... </span>             <span class="s1">&#39;sharesOutstanding&#39;</span><span class="p">:</span> <span class="mi">15204100096</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;MSFT&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;marketCap&#39;</span><span class="p">:</span> <span class="mi">2985852141568</span><span class="p">,</span>
<span class="gp">... </span>             <span class="s1">&#39;sharesOutstanding&#39;</span><span class="p">:</span> <span class="mi">7433039872</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;GOOG&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;marketCap&#39;</span><span class="p">:</span> <span class="mi">1864140193792</span><span class="p">,</span>
<span class="gp">... </span>             <span class="s1">&#39;sharesOutstanding&#39;</span><span class="p">:</span> <span class="mi">5584999936</span><span class="p">},</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weighted_eps</span> <span class="o">=</span> <span class="n">calc_weighted_metric</span><span class="p">(</span><span class="n">financials</span><span class="p">,</span> <span class="n">tickers_info</span><span class="p">,</span>
<span class="gp">... </span>                                    <span class="s1">&#39;Basic EPS&#39;</span><span class="p">,</span> <span class="s1">&#39;sharesOutstanding&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">weighted_eps</span><span class="p">)</span>
<span class="go">&lt;class &#39;numpy.ndarray&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weighted_eps</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(7,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.yf_utils.download_financials">
<span class="sig-prename descclassname"><span class="pre">vistock.yf_utils.</span></span><span class="sig-name descname"><span class="pre">download_financials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quarterly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/yf_utils.html#download_financials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.yf_utils.download_financials" title="Link to this definition"></a></dt>
<dd><p>Downloads the financials (quarterly or annual) of multiple stocks and
returns the specified fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbols</strong> (<em>list</em><em> of </em><em>str</em>) – List of ticker symbols, e.g., [‘AAPL’, ‘MSFT’, ‘TSLA’].</p></li>
<li><p><strong>fields</strong> (<em>list</em><em>, </em><em>optional</em>) – List of fields to return. If None, all fields will be returned.
Defaults to None.</p></li>
<li><p><strong>frequency</strong> (<em>str</em><em>, </em><em>optional</em>) – The frequency of the financial data to fetch. Options are ‘quarterly’
or ‘annual’. Defaults to ‘quarterly’.</p></li>
<li><p><strong>max_workers</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of threads to use for parallel requests. Defaults to 8.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to show a progress bar. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary where each key is a stock ticker, and the value is a
DataFrame of the specified fields.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">symbols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;TSLA&#39;</span><span class="p">,</span> <span class="s1">&#39;GOOG&#39;</span><span class="p">,</span> <span class="s1">&#39;AMZN&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">financials</span> <span class="o">=</span> <span class="n">download_financials</span><span class="p">(</span><span class="n">symbols</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="s1">&#39;annual&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">[...*******************100%**********************]</span>
<span class="go">  5 of 5 financials downloaded</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">epses</span> <span class="o">=</span> <span class="n">financials</span><span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">][</span><span class="s1">&#39;Basic EPS&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">epses</span><span class="p">)</span>
<span class="go">&lt;class &#39;pandas.core.series.Series&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">epses</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.yf_utils.download_tickers_info">
<span class="sig-prename descclassname"><span class="pre">vistock.yf_utils.</span></span><span class="sig-name descname"><span class="pre">download_tickers_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/yf_utils.html#download_tickers_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.yf_utils.download_tickers_info" title="Link to this definition"></a></dt>
<dd><p>Downloads the basic information of multiple stocks and returns the
specified fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbols</strong> (<em>list</em><em> of </em><em>str</em>) – List of ticker symbols, e.g., [‘AAPL’, ‘MSFT’, ‘TSLA’]</p></li>
<li><p><strong>fields</strong> (<em>list</em><em>, </em><em>optional</em>) – List of fields to return. If None, all fields will be returned.</p></li>
<li><p><strong>max_workers</strong> (<em>int</em>) – Maximum number of threads to use for parallel requests</p></li>
<li><p><strong>progress</strong> (<em>bool</em>) – Whether to show a progress bar</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary where each key is a stock ticker, and the value is a
dictionary of the specified fields.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">symbols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;TSLA&#39;</span><span class="p">,</span> <span class="s1">&#39;GOOG&#39;</span><span class="p">,</span> <span class="s1">&#39;AMZN&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="n">download_tickers_info</span><span class="p">(</span><span class="n">symbols</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">[...*******************100%**********************]  5 of 5 info downloaded</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">][</span><span class="s1">&#39;longName&#39;</span><span class="p">]</span>
<span class="go">&#39;Apple Inc.&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.yf_utils.fetch_financials">
<span class="sig-prename descclassname"><span class="pre">vistock.yf_utils.</span></span><span class="sig-name descname"><span class="pre">fetch_financials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quarterly'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/yf_utils.html#fetch_financials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.yf_utils.fetch_financials" title="Link to this definition"></a></dt>
<dd><p>Fetch the financials for a single ticker symbol using yfinance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – Ticker symbol as a string</p></li>
<li><p><strong>fields</strong> (<em>list</em><em>, </em><em>optional</em>) – List of fields to return. If None, all fields will be returned.
Defaults to None.</p></li>
<li><p><strong>frequency</strong> (<em>str</em>) – The frequency of the financial data (‘quarterly’ or ‘annual’).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing the ticker’s financials</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vistock.yf_utils.setup_file_logging">
<span class="sig-prename descclassname"><span class="pre">vistock.yf_utils.</span></span><span class="sig-name descname"><span class="pre">setup_file_logging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vistock/yf_utils.html#setup_file_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vistock.yf_utils.setup_file_logging" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-vistock">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-vistock" title="Link to this heading"></a></h2>
<p>Initialize vistock package.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="Source" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="vistock.mpl.html" class="btn btn-neutral float-right" title="vistock.mpl package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, York Jong.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>